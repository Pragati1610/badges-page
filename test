canvas.toBlob(function(blob) {
                // blob ready, download it
                let link = document.createElement('a');
                link.download = 'example.png';

                link.href = URL.createObjectURL(blob);
                link.click();

                // delete the internal blob reference, to let the browser clear memory from it
                URL.revokeObjectURL(link.href);
            }, 'image/png');
        }\


        let imgInput = document.getElementById('preview');
        imgInput.addEventListener('change', function(e) {
            if (e.target.files) {
                let imageFile = e.target.files[0]; //here we get the image file
                var reader = new FileReader();
                reader.readAsDataURL(imageFile);
                reader.onloadend = function(e) {
                    var myImage = new Image(); // Creates image object
                    myImage.src = e.target.result; // Assigns converted image to image object
                    myImage.onload = function(ev) {
                        var myCanvas = document.getElementById("canvas"); // Creates a canvas object
                        var myContext = myCanvas.getContext("2d"); // Creates a contect object
                        myContext.drawImage(myImage, 112, 105, 175, 175); // Draws the image on canvas
                        let imgData = myCanvas.toDataURL("image/jpeg", 0.75); // Assigns image base64 string in jpeg format to a variable
                    }
                }
            }
        });


         function download_image() {
            var canvas = document.getElementById("canvas");
            var image = canvas.toDataURL("image/png ").replace("image/png ", "image/octet-stream ");
            var link = document.createElement('a');
            link.download = "my-badge.png ";
            link.href = image;
            link.click();
        }

        canvasFill(fileInfo.cdnUrl, true)